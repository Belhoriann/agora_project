/* global $ */ 

// AJAX for updating the vote count and the icon for bookmarking

// Get the id of the article liked
var liked_article = $("#like_<%= @article.id %>");

// Go outside of the loops and div to find the place where the vote count is and update it
liked_article.parent().parent().parent().find(".vote_count").html("Bookmarked <%= @article.votes_for.size.to_s %> times");

// Replace the bookmark button by the unbookmark one
liked_article.closest('.bookmarking').html('<%= button_to "Unbookmark", unbookmark_article_path(@article), remote: true, id: "unlike_#{@article.id}", method: :put, class: "btn btn-danger btn-sm" %>');